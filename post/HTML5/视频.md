# 视频标记

HTML5 引入了 `<video>` 标签，实现了原生的视频播放支持，彻底替代了过去依赖 Flash 插件的方案。

<div style="background-color: #e3f2fd; border-left: 5px solid #2196f3; padding: 15px; margin: 10px 0; color: #0d47a1;">
  <strong>核心注意：自动播放与静音</strong><br>
  与音频类似，现代浏览器严格限制视频自动播放。如果希望视频加载后立即播放（<code>autoplay</code>），必须同时设置 <code>muted</code>（静音）属性，否则会被浏览器拦截。
</div>

## 视频标签

使用 `<video>` 标签在文档中嵌入视频播放器。

- **标签类型**：双标签，内部可嵌套 `<source>` 标签和后备文本。
- **宽高设置**：建议始终设置 `width` 和 `height`，以防止视频加载时导致页面布局剧烈跳动。

## 核心属性详解

- **src**：视频文件的路径（若不使用 `<source>` 标签）。
- **controls**：显示播放控件（播放/暂停、进度条、音量、全屏按钮）。
- **poster**：视频加载前（或点击播放前）显示的封面图片 URL。若不设置，浏览器通常会显示视频的第一帧（但这取决于预加载策略）。
- **autoplay**：自动播放。
- **muted**：静音播放。
- **loop**：循环播放。
- **playsinline**：**移动端关键属性**。指示视频在当前位置内联播放，而不是强制进入全屏模式（主要针对 iOS Safari）。
- **preload**：
    - `auto`：尽可能加载视频。
    - `metadata`：仅加载元数据（时长、尺寸）。
    - `none`：不预加载。

## 格式兼容性

并非所有浏览器都支持相同的视频编码。最佳实践是提供 MP4 (H.264 + AAC) 作为基础，WebM 作为开源替代。

<div style="width: 100%; overflow-x: auto; margin-bottom: 20px;">
  <table style="width: 100%; border-collapse: collapse; border: 1px solid #ddd; font-family: sans-serif;">
    <thead>
      <tr style="background-color: #f2f2f2;">
        <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">格式</th>
        <th style="border: 1px solid #ddd; padding: 12px; text-align: left;">说明</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="border: 1px solid #ddd; padding: 8px;"><strong>MP4</strong></td>
        <td style="border: 1px solid #ddd; padding: 8px;">工业标准，兼容性最好（Safari, Chrome, Edge, Firefox）。</td>
      </tr>
      <tr>
        <td style="border: 1px solid #ddd; padding: 8px;"><strong>WebM</strong></td>
        <td style="border: 1px solid #ddd; padding: 8px;">Google 主推的高性能开源格式，体积通常比 MP4 更小。</td>
      </tr>
      <tr>
        <td style="border: 1px solid #ddd; padding: 8px;"><strong>Ogg</strong></td>
        <td style="border: 1px solid #ddd; padding: 8px;">较老的开源格式，使用率正在下降。</td>
      </tr>
    </tbody>
  </table>
</div>

<div style="border: 1px solid #ddd; border-radius: 4px; overflow: hidden; margin: 20px 0;">
  <div style="background-color: #f5f5f5; padding: 10px; border-bottom: 1px solid #ddd; font-family: Consolas, monospace; font-size: 14px; color: #333;">
    &lt;!-- 源码 --&gt;<br>
    &lt;video controls width="100%" poster="https://dummyimage.com/600x400/000/fff&text=Video+Poster" preload="metadata"&gt;<br>
    &nbsp;&nbsp;&lt;source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4"&gt;<br>
    &nbsp;&nbsp;&lt;source src="movie.ogg" type="video/ogg"&gt;<br>
    &nbsp;&nbsp;&lt;p&gt;您的浏览器不支持 HTML5 视频。&lt;/p&gt;<br>
    &lt;/video&gt;
  </div>
  <div style="padding: 20px; background-color: #fff;">
    <video controls width="100%" poster="https://dummyimage.com/600x400/000/fff&text=Video+Poster" preload="metadata" style="max-width: 500px; display: block;">
      <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
      您的浏览器不支持 HTML5 视频。
    </video>
  </div>
</div>