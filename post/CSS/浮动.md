# 浮动

浮动最初是为了实现“文字环绕图片”的排版效果，后来成为 CSS 布局系统中的重要工具。

<div style="background-color: #e3f2fd; border-left: 5px solid #2196f3; padding: 15px; margin: 10px 0; color: #0d47a1;">
<strong>半脱离文档流</strong><br>
浮动元素与绝对定位不同：绝对定位会完全覆盖下方的文本，而浮动元素虽然脱离了标准流，但后续的<strong>文本内容</strong>会识别到它的存在并进行“环绕”。
</div>

## 浮动元素

使用 `float` 属性将元素向左或向右推，直到其外边缘碰到包含框或另一个浮动元素的边缘。

- **属性值**：
    - `left`：向左浮动。
    - `right`：向右浮动。
    - `none`：默认值，不浮动。
- **核心特点**：
    - **文字环绕**：浮动元素旁边的文本会环绕它排列。
    - **块级化**：行内元素（如 `span`）一旦设置了浮动，会自动获得块级元素的特性（可以设置宽、高）。

<div style="border: 1px solid #ddd; border-radius: 4px; overflow: hidden; margin: 20px 0;">
<div style="background-color: #f5f5f5; padding: 10px; border-bottom: 1px solid #ddd; font-family: Consolas, monospace; font-size: 14px; color: #333;">
&lt;!-- CSS 源码 --&gt;<br>
.float-box {<br>
&nbsp;&nbsp;float: left; /* 向左浮动 */<br>
&nbsp;&nbsp;width: 50px; height: 50px;<br>
&nbsp;&nbsp;margin: 0 10px 5px 0;<br>
}<br>
<br>
&lt;!-- HTML 源码 --&gt;<br>
&lt;div style="width: 200px;"&gt;<br>
&nbsp;&nbsp;&lt;div class="float-box"&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;p&gt;这是一段测试文本...&lt;/p&gt;<br>
&lt;/div&gt;
</div>
<div style="padding: 20px; background-color: #fff;">
<div style="width: 200px; border: 1px solid #eee; padding: 5px;">
<div style="float: left; width: 50px; height: 50px; background: #ff9800; margin: 0 10px 5px 0; color: white; font-size: 12px; text-align: center; line-height: 50px;">Float</div>
<p style="font-size: 13px; line-height: 1.4; margin: 0; color: #333;">
这是一段测试文本。注意看，文字并没有被橙色方块覆盖，而是自动环绕在了它的右侧和下方。这就是浮动的“环绕”特性。
</p>
</div>
</div>
</div>

## 清除浮动

当子元素设置为浮动后，它将脱离标准文档流，导致父元素无法检测到其高度，从而产生**高度塌陷**（父元素高度变为 0）。

### 常见解决方案

1.  **`clear: both`**：在浮动元素后面添加一个空的块级标签（如 `<div style="clear:both"></div>`），强制换行。
2.  **`overflow: hidden`**：给父元素设置此属性，会触发 BFC（块级格式化上下文），自动计算内部浮动元素的高度。
3.  **伪元素清除法 (Clearfix)**：**推荐方案**。利用 CSS 伪元素自动在父元素末尾添加一个看不见的“墙”来撑开高度。

### 塌陷与修复对比演示

<div style="border: 1px solid #ddd; border-radius: 4px; overflow: hidden; margin: 20px 0;">
<div style="background-color: #f5f5f5; padding: 10px; border-bottom: 1px solid #ddd; font-family: Consolas, monospace; font-size: 14px; color: #333;">
&lt;!-- 1. 塌陷示例：父元素只有边框，没有高度 --&gt;<br>
&lt;div class="parent"&gt;<br>
&nbsp;&nbsp;&lt;div style="float: left;"&gt;浮动子元素&lt;/div&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;!-- 2. 修复示例：使用 BFC 或 Clearfix --&gt;<br>
&lt;div class="parent" style="overflow: hidden;"&gt;<br>
&nbsp;&nbsp;&lt;div style="float: left;"&gt;浮动子元素&lt;/div&gt;<br>
&lt;/div&gt;
</div>
<div style="padding: 20px; background-color: #fff;">
<div style="margin-bottom: 20px;">
<div style="font-size: 12px; font-weight: bold; margin-bottom: 5px; color: #d32f2f;">现象：高度塌陷 (边框挤在一起)</div>
<div style="border: 2px solid #d32f2f; padding: 0;">
<div style="float: left; width: 100px; height: 50px; background: #ffcdd2; color: #b71c1c; line-height: 50px; text-align: center;">浮动子元素</div>
</div>
<div style="clear: both;"></div> 
</div>

<div>
<div style="font-size: 12px; font-weight: bold; margin-bottom: 5px; color: #388e3c;">修复：高度正常 (父元素包住了子元素)</div>
<div style="border: 2px solid #388e3c; padding: 0; overflow: hidden;">
<div style="float: left; width: 100px; height: 50px; background: #c8e6c9; color: #1b5e20; line-height: 50px; text-align: center;">浮动子元素</div>
</div>
</div>

</div>
</div>
