# 动画

动画提供了比过渡更强大的动态效果控制能力。它无需用户触发（如悬停）即可自动运行，并且可以精细控制动画过程中的多个中间状态。

<div style="background-color: #e3f2fd; border-left: 5px solid #2196f3; padding: 15px; margin: 10px 0; color: #0d47a1;">
<strong>性能建议</strong><br>
定义关键帧时，尽量使用 <code>transform</code> (位移、缩放) 和 <code>opacity</code> (透明度) 属性。相比改变 <code>left</code> 或 <code>width</code>，这些属性不会触发浏览器重排（Reflow），动画会更加流畅。
</div>

## 关键帧

使用 `@keyframes` 规则定义动画序列。

- **定义方式**：
    - **`from` / `to`**：简单的开始和结束。
    - **百分比 (`0%` - `100%`)**：可以定义任意多个中间阶段（如 50% 时变色）。

<div style="border: 1px solid #ddd; border-radius: 4px; overflow: hidden; margin: 20px 0;">
<div style="background-color: #f5f5f5; padding: 10px; border-bottom: 1px solid #ddd; font-family: Consolas, monospace; font-size: 14px; color: #333;">
&lt;!-- CSS 源码 --&gt;<br>
@keyframes my-slide {<br>
&nbsp;&nbsp;0%   { transform: translateX(0); background: red; }<br>
&nbsp;&nbsp;50%  { transform: translateX(100px); background: orange; }<br>
&nbsp;&nbsp;100% { transform: translateX(0); background: red; }<br>
}
</div>
</div>

## 动画属性

使用 `animation` 相关属性控制动画的播放行为。

- **`animation-name`**：绑定 `@keyframes` 定义的名称。
- **`animation-duration`**：持续时间（如 `2s`）。
- **`animation-timing-function`**：速度曲线（`linear`, `ease-in-out` 等）。
- **`animation-delay`**：延迟多久开始。
- **`animation-iteration-count`**：播放次数。
    - 数值：如 `3` 次。
    - `infinite`：无限循环。
- **`animation-direction`**：播放方向。
    - `normal`：正向（0% -> 100%）。
    - `reverse`：反向。
    - `alternate`：往返播放（去的时候正向，回来时候反向，像溜溜球）。
- **`animation-fill-mode`**：动画结束后的状态（**重要**）。
    - `none`：默认值，动画结束后瞬间回到 0% 的状态。
    - `forwards`：动画结束后，停留在 100% 的状态（不回头）。

## 简写与演示

推荐使用简写属性：`animation: name duration timing-function delay iteration-count direction fill-mode;`

<div style="border: 1px solid #ddd; border-radius: 4px; overflow: hidden; margin: 20px 0;">
<div style="background-color: #f5f5f5; padding: 10px; border-bottom: 1px solid #ddd; font-family: Consolas, monospace; font-size: 14px; color: #333;">
&lt;!-- CSS 源码 --&gt;<br>
/* 1. 无限往返动画 */<br>
.loop-box {<br>
&nbsp;&nbsp;animation: moveLoop 2s infinite alternate;<br>
}<br>
<br>
/* 2. 单次播放，停在终点 (forwards) */<br>
.stop-box {<br>
&nbsp;&nbsp;animation: moveOnce 2s forwards;<br>
}<br>
<br>
@keyframes moveLoop {<br>
&nbsp;&nbsp;to { transform: translateX(200px); background: #2196f3; }<br>
}<br>
@keyframes moveOnce {<br>
&nbsp;&nbsp;to { transform: translateX(200px); background: #4caf50; }<br>
}
</div>
<div style="padding: 20px; background-color: #fff;">
<style>
@keyframes demo-move-loop {
from { transform: translateX(0); background-color: #90caf9; }
to { transform: translateX(200px); background-color: #1565c0; }
}
@keyframes demo-move-once {
from { transform: translateX(0); background-color: #a5d6a7; }
to { transform: translateX(200px); background-color: #2e7d32; }
}
</style>

<div style="margin-bottom: 20px;">
<div style="font-size: 12px; font-weight: bold; margin-bottom: 5px;">1. 无限往返 (infinite alternate)</div>
<div style="width: 40px; height: 40px; background: #90caf9; border-radius: 4px; color: white; line-height: 40px; text-align: center; font-size: 10px; animation: demo-move-loop 1.5s infinite alternate;">
Loop
</div>
</div>

<div style="border-top: 1px dashed #eee; padding-top: 20px;">
<div style="font-size: 12px; font-weight: bold; margin-bottom: 5px;">2. 停在终点 (forwards) - 刷新页面重播</div>
<div style="width: 40px; height: 40px; background: #a5d6a7; border-radius: 4px; color: white; line-height: 40px; text-align: center; font-size: 10px; animation: demo-move-once 1.5s forwards;">
Stop
</div>
</div>

</div>
</div>